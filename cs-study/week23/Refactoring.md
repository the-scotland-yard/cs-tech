# Refactoring

- [Refactoring](#refactoring)
  - [코드 리팩토링이란?](#코드-리팩토링이란)
  - [리팩토링과 성능 개선 비교](#리팩토링과-성능-개선-비교)
  - [언제 리팩토링을 해야 할까?](#언제-리팩토링을-해야-할까)
    - [각 단계에 집중하기](#각-단계에-집중하기)
  - [리팩토링 방법](#리팩토링-방법)
    - [리팩토링 유형](#리팩토링-유형)
      - [1. **신규 기능 추가를 대비한 리팩토링**](#1-신규-기능-추가를-대비한-리팩토링)
        - [목적](#목적)
        - [예시](#예시)
      - [2. **가독성 향상을 위한 리팩토링**](#2-가독성-향상을-위한-리팩토링)
        - [목적](#목적-1)
        - [예시](#예시-1)
    - [리팩토링 과정](#리팩토링-과정)
  - [비효율적인 리팩토링 사례](#비효율적인-리팩토링-사례)
  - [리팩토링이 필요한 이유](#리팩토링이-필요한-이유)
  - [리팩토링의 장점](#리팩토링의-장점)
    - [궁극적인 목적: **경제성(Economics)**](#궁극적인-목적-경제성economics)
- [후기](#후기)

## 코드 리팩토링이란?
코드 리팩토링은 소프트웨어의 겉보기 동작은 그대로 유지하면서 코드를 더욱 깨끗하고 이해하기 쉽게 구조를 개선하는 작업입니다. 리팩토링의 판단 기준에는 **확장성, 가독성, 유지보수성** 등이 포함됩니다.

## 리팩토링과 성능 개선 비교
| 구분 | 리팩토링 | 성능 개선 |
|------|----------|------------|
| 목적 | 코드 구조 개선 | 속도 및 자원 효율성 향상 |
| 초점 | 가독성, 유지보수성 | 처리 속도, 메모리 사용 최적화 |
| 결과 | 깨끗하고 유지보수 쉬운 코드 | 빠르고 자원 효율적인 코드 |

## 언제 리팩토링을 해야 할까?
- **기능 구현 우선:** 기능이 정상적으로 작동하는지 확인한 후 리팩토링 진행
- **단일 작업에 집중:** 한 번에 하나의 작업에만 집중하고 동시에 여러 작업을 진행하지 않기

### 각 단계에 집중하기
1. **기능 추가:** 기존 코드를 건드리지 않고 신규 기능 구현에 집중합니다.
2. **리팩토링:** 신규 기능을 추가하지 않고 코드의 구조를 개선합니다.

## 리팩토링 방법
리팩토링 시점을 적절히 결정하는 것이 중요합니다. **명확하고 구체적인 목표를 설정**하여 한 번에 한 가지 작업에 집중하는 것이 핵심입니다.

### 리팩토링 유형

#### 1. **신규 기능 추가를 대비한 리팩토링**
##### 목적
신규 기능을 쉽게 추가할 수 있도록 기존 코드를 정비합니다.
##### 예시
- **파편화된 코드:** 반복되는 코드를 별도의 함수로 분리하여 호출
- **중복된 유사 로직:** 유사한 함수들이 존재할 경우 매개변수를 활용해 하나의 함수로 통합
- **모든 분기마다 동일 로직:** 반복되는 로직을 분기문 밖으로 이동하여 한 번만 작성

#### 2. **가독성 향상을 위한 리팩토링**
##### 목적
코드의 의도를 명확히 하여 이해하기 쉽도록 만듭니다.
##### 예시
- **모호한 변수명:** 변수명을 사람이 이해하기 쉽게 직관적으로 선언
- **길어지는 표현식:** 복잡한 표현식을 개별 변수로 분리하여 의도를 명확히 함
- **변수가 한 번만 변경:** 불필요한 변수 선언 대신 바로 반환하는 방식으로 인라인 처리

### 리팩토링 과정
| 단계 | 설명 |
|------|-------|
| 1. 코드 분석 | 리팩토링이 필요한 부분 식별 |
| 2. 목표 설정 | 개선 목표 명확화 (예: 중복 제거, 가독성 향상) |
| 3. 리팩토링 수행 | 코드 수정 및 테스트 실행 |
| 4. 검토 및 테스트 | 리팩토링 후 기존 동작 보장 확인 |

## 비효율적인 리팩토링 사례
- **코드 판독 불가:** 코드 이해가 어려워 시간 낭비가 예상되는 경우
- **비정상 코드:** 코드가 정상 작동하지 않는다면 새로 작성하는 것이 더 효율적
- **납기 임박:** 마감일이 가까운 상황에서는 리팩토링을 지양

## 리팩토링이 필요한 이유
- **깨끗하고 좋은 코드 작성:** 무계획적으로 작성된 코드는 초기 개발 속도는 빠를 수 있으나 시간이 지날수록 구조가 복잡해져 유지보수가 어려워집니다.
- **생산성 향상:** 잘 설계된 프로그램은 시간이 지날수록 기능 추가와 유지보수 작업이 수월해져 개발 생산성이 높아집니다.

## 리팩토링의 장점
| 장점 | 설명 |
|------|-------|
| 유지보수 용이성 | 코드 이해와 수정이 쉬워짐 |
| 확장성 | 신규 기능 추가가 용이함 |
| 협업 효율성 | 팀원 간 코드 이해도 향상 |
| 코드 품질 | 오류 발생 가능성 감소 |

### 궁극적인 목적: **경제성(Economics)**
리팩토링은 적은 인력과 짧은 시간으로 더 많은 기능을 안정적으로 개발하기 위해 필수적입니다.

# 후기
회사에서 변수 선언이 한 파일에 이루어진 프로젝트 코드를 받았는데 당혹스러웠다.
이미 개발이 끝난 과제에서 유지보수가 필요하다면 한번은 거쳐야 하는 과정인 것 같아
리팩토링에 대해 알아보게 되었다.

많은 코드를 해석하고 다시 "경제성"이 있도록 수정하는 과정은 지루하고 오랜 시간이 걸리겠지만
하고 난다면 인수인계는 확실히 편해질 것 같은 느낌이다.
